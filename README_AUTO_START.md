# せつなBot 自動起動版 - 使用方法

## 🚀 概要

このバージョンは **起動と同時に自動で全機能が有効化** される最もシンプルな実行方法です。

### ✨ 主な特徴
- **自動ボイスチャンネル参加**: 起動と同時にDiscordボイスチャンネルに参加
- **自動ホットキー開始**: Ctrl+Shift+Alt でいつでも音声入力可能
- **Windows環境最適化**: Windows環境での実行に特化
- **ワンクリック起動**: バッチファイルで簡単実行

## 🛠️ セットアップ手順

### 1. 環境設定

`.env` ファイルを作成し、以下を設定:

```env
DISCORD_BOT_TOKEN=your_discord_bot_token_here
OPENAI_API_KEY=your_openai_api_key_here
```

### 2. VOICEVOX起動

Windows環境でVOICEVOXを起動してください:
- デフォルトポート: 50021
- WSL2からのアクセスが自動で設定されます

### 3. Botの起動

**方法1: バッチファイル（推奨）**
```batch
start_setsuna_auto.bat
```

**方法2: Python直接実行**
```bash
python setsuna_auto_discord.py
```

## 🎮 使用方法

### 自動起動シーケンス
1. **Discord接続**: Botがサーバーに接続
2. **ボイスチャンネル参加**: 最初に見つかったボイスチャンネルに自動参加
3. **ホットキー開始**: Ctrl+Shift+Alt での音声入力を開始
4. **準備完了通知**: Discordに起動完了メッセージを送信

### 音声入力
- **Ctrl+Shift+Alt** を押しながら話す
- キーを離すと自動で音声認識・応答
- 応答音声はWindows環境で再生

### テキスト入力
- **@せつな メッセージ** でテキストチャット
- 音声応答も同時に再生

## 📋 コマンド一覧

| コマンド | 説明 |
|---------|------|
| `!status` | システム状態確認 |
| `!restart_auto` | 自動モード再起動 |
| `!help` | ヘルプ表示 |

## 🔧 システム要件

### 必須
- **Windows 10/11**
- **Python 3.9+**
- **Discord Bot Token** (開発者ポータルから取得)
- **OpenAI API Key**
- **VOICEVOX** (Windows環境)

### 推奨
- **マイク**: 音声入力用
- **スピーカー**: 音声出力用
- **安定したインターネット接続**

## 🚨 トラブルシューティング

### 起動しない場合
1. **.env ファイル確認**: トークンとAPIキーが正しく設定されているか
2. **VOICEVOX確認**: Windows環境で起動しているか
3. **Discord権限確認**: Botがボイスチャンネルにアクセスできるか

### ホットキーが反応しない場合
1. **アプリケーションフォーカス確認**: 他のアプリがキーをブロックしていないか
2. **管理者権限**: 必要に応じてコマンドプロンプトを管理者として実行
3. **キーの組み合わせ確認**: Ctrl+Shift+Alt すべて同時押し

### 音声が出ない場合
1. **VOICEVOX接続確認**: `http://localhost:50021` にアクセス可能か
2. **スピーカー設定確認**: Windows音声出力設定
3. **パイプライン確認**: コンソールログでエラーメッセージを確認

## 🎯 最適化設定

### 特定ボイスチャンネル指定
コード内で `target_channel_name` を設定:
```python
self.target_channel_name = "せつなの部屋"  # お好みのチャンネル名
```

### 音声認識精度向上
- **静かな環境での使用**
- **マイクの音量調整**
- **明瞭な発音**

## 📁 ファイル構成

```
setsuna_bot/
├── setsuna_auto_discord.py      # メインプログラム
├── start_setsuna_auto.bat       # Windows起動用バッチファイル
├── core/                        # コア機能
│   ├── setsuna_chat.py         # チャット機能
│   ├── voice_output.py         # 音声出力
│   └── voice_input.py          # 音声入力
├── .env                         # 環境設定
└── README_AUTO_START.md         # このファイル
```

## 🔄 更新履歴

- **v1.0**: 自動起動版初回リリース
- 起動時自動ボイスチャンネル参加
- 起動時自動ホットキー開始
- Windows環境最適化

---

**🎊 準備完了！ `start_setsuna_auto.bat` をダブルクリックして、せつなBotをお楽しみください！**