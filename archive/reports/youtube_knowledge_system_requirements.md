# YouTube映像制作者向けデータ収集システム 要件定義書

**プロジェクト名**: せつなBot YouTube知識システム  
**作成日**: 2025年6月18日  
**バージョン**: 1.0  

## 1. プロジェクト概要

### 1.1 目的
YouTube映像制作者向けデータ収集システムを構築し、せつなさんの創作対話能力を向上させるための知識データベースを構築する。

### 1.2 背景
- せつなさんに現実のデータへの知識を持たせる
- 特に動画や歌に関連した知識を蓄積
- 創作に関する対話を有効に機能させる
- 最終的にはせつなさんの記憶システムに統合

## 2. 機能要件

### 2.1 Phase 1: 基本データ収集機能

#### 2.1.1 YouTube視聴履歴取得
- **機能**: YouTube Data API v3を使用したデータ取得
- **認証**: OAuth 2.0による安全なアクセス
- **対象データ**: 
  - 視聴履歴
  - プレイリスト情報
  - 動画メタデータ（タイトル、説明、タグ、統計情報）

#### 2.1.2 映像制作関連フィルタリング
- **自動分類**: GPT APIによる動画内容の分析・分類
- **判定基準**: 
  - 映像制作関連（撮影、編集、ストーリーテリング等）を含める
  - ユーザー指定の不要ジャンル除外
  - 判断が微妙なものは手動確認可能
- **フィルタリング精度**: 段階的な分類システム

#### 2.1.3 データ蓄積・管理
- **保存形式**: JSON形式での構造化データ
- **更新方式**: 差分更新による効率化
- **実行頻度**: 日次バッチ処理
- **設定**: 後から調整可能な設定システム

### 2.2 Phase 2: 拡張機能

#### 2.2.1 関連コンテンツ発見
- **関連動画探索**: 視聴済み動画からの関連動画探索
- **未視聴推薦**: まだ見ていない関連コンテンツの発見
- **インスピレーション評価**: 創作のインスピレーションになる度合いの評価

#### 2.2.2 高度な分析機能
- **詳細特徴抽出**: 動画タイトル以上の内容保持
- **音楽分析**: 歌の調子など楽曲の特性分析
- **トレンド分析**: 創作テーマの傾向分析

## 3. 技術仕様

### 3.1 システムアーキテクチャ
```
youtube_knowledge_system/
├── collectors/           # データ収集モジュール
│   ├── youtube_api.py   # YouTube Data API接続
│   └── auth_manager.py  # OAuth認証管理
├── analyzers/           # GPT APIを使った分析
│   ├── content_analyzer.py  # コンテンツ分析
│   └── filter_analyzer.py  # フィルタリング判定
├── filters/             # フィルタリング機能
│   ├── content_filter.py    # コンテンツフィルタ
│   └── manual_review.py    # 手動確認システム
├── storage/             # データ保存管理
│   ├── json_storage.py     # JSON形式保存
│   └── diff_manager.py     # 差分更新管理
├── integration/         # せつなさんとの統合
│   └── memory_bridge.py    # 記憶システム橋渡し
└── config/              # 設定管理
    └── settings.py         # 設定ファイル
```

### 3.2 データフロー
1. **データ収集**: YouTube Data API → 視聴履歴・プレイリスト取得
2. **分析処理**: GPT API → コンテンツ分析・分類
3. **フィルタリング**: 映像制作関連コンテンツの抽出
4. **データ保存**: JSON形式での構造化データ蓄積
5. **統合準備**: せつなさんの対話システムへの知識提供準備

### 3.3 外部API制約
- **YouTube Data API**: 無料範囲内での使用（1日10,000クォータ）
- **OpenAI GPT API**: 分析・分類処理での使用
- **認証**: OAuth 2.0による安全なアクセス

## 4. 実装スケジュール

### 4.1 Phase 1 (基本機能)
1. YouTube Data API設定と認証実装
2. 視聴履歴取得機能の実装
3. 映像制作関連コンテンツのフィルタリング実装

### 4.2 Phase 2 (拡張機能)
1. 関連動画探索と推薦機能の実装
2. せつなさんの記憶システムとの統合準備

## 5. 品質保証

### 5.1 実装方針
- **段階的実装**: 各機能の単体テスト → 統合テスト → 修正のサイクル
- **フォールバック**: エラーハンドリングとフォールバック機能の実装
- **ログ出力**: 詳細なログ出力による問題追跡

### 5.2 テスト戦略
- **単体テスト**: 各モジュールの個別テスト
- **統合テスト**: システム全体の動作確認
- **API制限テスト**: 外部API制限内での動作確認

## 6. 成果物

### 6.1 最終成果物
- **データベース**: 映像制作関連の構造化知識データ
- **システム**: 自動データ収集・分析システム
- **統合準備**: せつなさんとの統合用インターフェース

### 6.2 データ形式
- **JSON形式**: せつなさんのチャットボットが読み込める形式
- **構造化データ**: 検索・分析可能な形式での保存

## 7. 進捗管理

### 7.1 承認プロセス
- 各フェーズ完了時にユーザー承認を得る
- 実装前の詳細設計確認
- テスト結果の報告と承認

### 7.2 マイルストーン
- [ ] Phase 1-1: API設定完了
- [ ] Phase 1-2: 視聴履歴取得完了
- [ ] Phase 1-3: フィルタリング機能完了
- [ ] Phase 2-1: 関連動画探索完了
- [ ] Phase 2-2: 統合準備完了

---

**注意事項**: 
- 実装は段階的に進行し、各段階でユーザー承認を得る
- 技術的な詳細は実装時に最適化
- プライバシーとセキュリティを最優先に考慮